let magnitude(V: vector) = sqrt((V*V).sum);
let altitude = magnitude(XYZ) - sealevel;
let positive(x) = if (x > 0) then x else 0;
let maxdensity = 100;
let scaleheight = 2;

if (altitude < 0) then
	0
else
	positive(1 - altitude/scaleheight) * maxdensity
	
